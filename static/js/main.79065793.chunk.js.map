{"version":3,"sources":["components/Menu/Menu.tsx","components/Panel/Panel.tsx","components/Tile/Tile.tsx","components/Minefield/Minefield.tsx","components/App/App.tsx","serviceWorker.ts","index.tsx"],"names":["Menu","menuMessage","onGameStarted","display","useState","width","setWidthValue","height","setHeightValue","mines","setMinesValue","className","style","htmlFor","id","type","min","max","placeholder","value","onChange","e","parseInt","target","onClick","Panel","flagsCount","onMenuButtonClick","Tile","x","y","isMine","isOpen","isFlagged","minesAround","classNames","label","push","join","shiftKey","Minefield","startedAt","onFlagsChanged","onMineRevealed","onAllMinesFlagged","tilesGrid","setTilesGrid","useEffect","plantedMines","plantMines","generateTilesGrid","findMinesAround","handleTileClick","flagAction","cell","isAllMinesFlagged","openEmptyNeighbours","flaggedMines","forEach","row","i","j","checkX","checkY","minesMap","bombsAround","cb","rows","cells","minesAmount","randTo","to","Math","round","random","key","map","props","App","setFlagsCount","Date","setStartedAt","displayMenu","setDisplayMenu","k","changedValue","alert","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.79065793.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport './Menu.sass'\n\ninterface IMenuProps {\n  onGameStarted: (width: number, height: number, mines: number) => void;\n  \n  // Shows menu with message if type is 'string', \n  // if 'true' — just show menu,\n  // if 'false' — hide menu\n  display: string | boolean; \n}\n\nconst Menu = ({onGameStarted, display}: IMenuProps) => {\n  const [width, setWidthValue] = useState(10);\n  const [height, setHeightValue] = useState(10);\n  const [mines, setMinesValue] = useState(4);\n  \n  let menuMessage;\n  if (typeof display === 'string') {\n    menuMessage = <div className=\"Menu-message\">\n      {display}\n    </div>;\n  }\n  \n  return (\n    <div className=\"Menu\" style={{display: display !== false ? 'flex' : 'none'}}>\n      <div className=\"Menu-panel\">\n       {menuMessage}\n        <div className=\"Menu-field\">\n          <label htmlFor=\"width\">Width</label>\n          <input id=\"width\" type=\"number\" min=\"1\" max=\"300\" placeholder=\"\" value={width} \n            onChange={(e) => { setWidthValue(parseInt(e.target.value || '0', 10))}}  />\n        </div>\n\n        <div className=\"Menu-field\">\n          <label htmlFor=\"height\">Height</label>\n          <input id=\"height\" type=\"number\" min=\"1\" max=\"300\"  value={height} \n            onChange={(e) => { setHeightValue(parseInt(e.target.value || '0', 10))}} />\n        </div>\n\n        <div className=\"Menu-field\">\n          <label htmlFor=\"mines\">Mines</label>\n          <input id=\"mines\" type=\"number\" min=\"1\" max=\"9000\"  placeholder=\"\" value={mines} \n            onChange={(e) => { setMinesValue(parseInt(e.target.value || '0', 10))}} />\n        </div>\n\n        <div className=\"Menu-field\">\n          <div className=\"Menu-btn\" onClick={() => onGameStarted(width, height, mines)}>New game</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Menu;\n","import React from 'react';\nimport './Panel.sass';\n\ninterface IPanelProps {\n  flagsCount: number;\n  onMenuButtonClick: () => void;\n}\n\nfunction Panel({flagsCount, onMenuButtonClick}: IPanelProps) {\n  return (\n    <div className=\"Panel\">\n      <div className=\"Panel-menu-btn\" onClick={onMenuButtonClick}>New game</div>\n      <div className=\"Panel-flags\">{flagsCount} ⚑ </div>\n    </div>\n  );\n}\n\nexport default Panel;","import React from 'react';\nimport './Tile.sass';\n\nexport interface ITileProps {\n  x: number;\n  y: number;\n  isMine: boolean;\n  isOpen: boolean;\n  isFlagged: boolean;\n  minesAround: number;\n  onClick: (x: number, y: number, isFlag: boolean) => void;\n}\n\nconst Tile = ({x, y, isMine, isOpen, isFlagged, minesAround, onClick}: ITileProps) => {\n  const classNames = ['Tile'];\n  let label = '';  \n  if (isOpen && isMine) {\n    label = '💣';\n  } else if (isOpen && !isMine) {\n    label = minesAround + '';\n  } else if (!isOpen && isFlagged) {\n    label = '⚑';\n    classNames.push('Tile--flagged');\n  }\n\n  if (isOpen) {\n    classNames.push('Tile--is-open');\n  }\n\n  return (\n    <div className={classNames.join(' ')} onClick={(e) => {onClick(x, y, e.shiftKey); }}>\n      <div className=\"Tile-content\">{label}</div>\n    </div>\n  );\n};\n\nexport default Tile;","import React, { useState, useEffect } from 'react';\nimport Tile, {ITileProps} from '../Tile/Tile';\nimport './Minefield.sass';\n\ninterface IMinefieldProps {\n  width: number;\n  height: number;\n  mines: number;\n  flagsCount: number;\n  startedAt: Date;\n  onFlagsChanged: (flagsCount: number) => void;\n  onMineRevealed: () => void;\n  onAllMinesFlagged: () => void;\n}\n\ninterface ITileData {\n  x: number;\n  y: number;\n  isMine: boolean;\n  isOpen: boolean;\n  isFlagged: boolean;\n  minesAround: number;\n}\n\ninterface IMinesMap {\n  [key: string]: boolean;\n}\n\nconst Minefield = ({\n  width, \n  height, \n  mines, \n  flagsCount, \n  startedAt, \n  onFlagsChanged,\n  onMineRevealed,\n  onAllMinesFlagged\n }: IMinefieldProps) => {\n  const [tilesGrid, setTilesGrid] = useState<ITileData[][] | null>(null);\n\n  useEffect(() => {     \n    const plantedMines = plantMines(width, height, mines);\n    const tilesGrid = generateTilesGrid(width, height, (x, y) => {\n      return {\n        x, \n        y, \n        minesAround: findMinesAround(plantedMines, x, y),\n        isMine: isMine(plantedMines, x, y),\n        isFlagged: false,\n        isOpen: false\n      };\n    });\n\n    setTilesGrid(tilesGrid);\n  }, [width, height, mines, startedAt]);\n\n  const handleTileClick = (x: number, y: number, flagAction: boolean) => {\n    if (!tilesGrid || !tilesGrid[y] || !tilesGrid[y][x]) {\n      return;\n    }\n\n    let cell = tilesGrid[y][x];\n    if (!cell.isOpen && flagAction) {\n      if (cell.isFlagged) {\n        cell.isFlagged = false;\n        onFlagsChanged(1);\n      } else if (flagsCount > 0) {\n        cell.isFlagged = true;\n        onFlagsChanged(-1);\n\n        if (isAllMinesFlagged()) {\n          onAllMinesFlagged();\n        }\n      } else if (flagsCount === 0) {\n        onFlagsChanged(-1);\n      }\n    } else if (!cell.isOpen && !cell.isFlagged) {\n      cell.isOpen = true;\n      if (cell.isMine) {\n        onMineRevealed();\n      } else if (cell.minesAround === 0) {\n        openEmptyNeighbours(x, y);\n      }\n    }\n    setTilesGrid([...tilesGrid]);\n  };\n\n  const isAllMinesFlagged = (): boolean => {\n    let flaggedMines = 0;\n    tilesGrid && tilesGrid.forEach((row) => row.forEach((cell: ITileData) => {\n      if (cell.isMine && cell.isFlagged) {\n        flaggedMines++;\n      }\n    }));\n    return flaggedMines === mines;\n  };\n\n  const openEmptyNeighbours = (x: number, y: number): ITileData[][] | null => {\n    for(let i = -1; i <= 1; i++) {\n      for(let j = -1; j <= 1; j++) {\n          if (j === 0 && i === 0) {\n              continue;\n          }\n          let checkX = x + i, checkY = y + j;\n          if (tilesGrid && tilesGrid[checkY] && tilesGrid[checkY][checkX]) {\n            let cell = tilesGrid[checkY][checkX];\n            if (!cell.isOpen && cell.minesAround === 0) {\n              cell.isOpen = true;\n              openEmptyNeighbours(checkX, checkY);\n            }\n          }\n      }\n    }\n    return tilesGrid;\n  };\n\n  const isMine = (mines: IMinesMap, x: number, y: number): boolean => {\n    return !!mines[x + '-' + y];\n  };\n\n  const findMinesAround = (minesMap: IMinesMap, x: number, y: number): number => {\n    let bombsAround = 0;\n    for(let i = -1; i <= 1; i++) {\n        for(let j = -1; j <= 1; j++) {\n            if (j === 0 && i === 0) {\n                continue;\n            }\n            if (isMine(minesMap, (x + i), (y + j))) {\n                bombsAround++;\n            }\n        }\n    }\n    return bombsAround;\n  };\n\n  const generateTilesGrid = (width: number, height: number, cb: (x: number, y: number) => ITileData): ITileData[][] => {\n    const rows = [];\n    for (let i = 0; i < height; i++) {\n      const cells = [];\n      for (let j = 0; j < width; j++) {\n        cells.push(cb(j, i));\n      }\n      rows.push(cells);\n    }\n    return rows;\n  };\n\n  const plantMines = (width: number, height: number, minesAmount: number): {[key: string]: boolean} => {\n    const randTo = (to: number): number => Math.round(Math.random() * (to - 1));\n    const mines: any = {};\n    while(minesAmount > 0) {\n      let x = randTo(width), y = randTo(height);\n      if (!isMine(mines, x, y)) {\n        mines[x+'-'+y] = true;\n        minesAmount--;\n      }\n    }\n    return mines;\n  };\n\n  const renderTilesGrid = () => {\n    if (tilesGrid === null ){\n      return null;\n    }\n    return tilesGrid.map((row, i) => \n      <div className=\"Minifield-row\" key={i}>\n        {row.map((props) => \n          <Tile key={props.x + '-' + props.y} {...props} onClick={handleTileClick} />\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div key=\"Minefield\" className=\"Minefield\">{renderTilesGrid()}</div>\n  );\n}\n\nexport default Minefield;","import React, { useState } from 'react';\nimport './App.sass';\nimport Menu from '../Menu/Menu';\nimport Panel from '../Panel/Panel';\nimport Minefield from '../Minefield/Minefield';\n\nconst App = () => {\n  const [width, setWidthValue] = useState<number>(0);\n  const [height, setHeightValue] = useState<number>(0);\n  const [mines, setMinesValue] = useState<number>(0);\n  const [flagsCount, setFlagsCount] = useState<number>(0);\n  const [startedAt, setStartedAt] = useState<Date>(new Date());\n  const [displayMenu, setDisplayMenu] = useState<boolean|string>(true);\n\n  const handleGameStart = (width: number, height: number, mines: number) => {\n    if (mines > width * height) {\n      mines = width * height;\n    }\n    setWidthValue(width);\n    setHeightValue(height);\n    setMinesValue(mines);\n    setFlagsCount(mines);\n    setStartedAt(new Date());\n    setDisplayMenu(false);\n  };\n\n  const handleMineReveal = () => {\n    setDisplayMenu('💥You blown up!');\n  };\n  \n  const handleAllMinesFlagged = () => {\n    setDisplayMenu('🏆 You win!');\n  };\n  \n  const handleMenuButtonClick = () => {\n    setDisplayMenu(true);\n  };\n\n  const handleFlagsChange = (k: number) => {\n    const changedValue = (flagsCount + k);\n    if (changedValue < 0) {\n      return alert('No flags available');\n    }\n    setFlagsCount(flagsCount => changedValue >= 0 ? changedValue : 0);\n  };\n\n  return (\n    <div className=\"App\">\n      <Menu onGameStarted={handleGameStart} display={displayMenu} />\n\n      <div className=\"App-board\">\n        <Panel onMenuButtonClick={handleMenuButtonClick} \n          flagsCount={flagsCount} />\n\n        <Minefield width={width} height={height} mines={mines} \n          startedAt={startedAt} \n          flagsCount={flagsCount}  \n          onFlagsChanged={handleFlagsChange} \n          onMineRevealed={handleMineReveal}\n          onAllMinesFlagged={handleAllMinesFlagged} />\n      </div>\n  </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}